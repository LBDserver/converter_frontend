(this.webpackJsonpconverter_front=this.webpackJsonpconverter_front||[]).push([[0],{285:function(e,t,n){e.exports=n(730)},290:function(e,t,n){},719:function(e,t){},721:function(e,t){},730:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(66),c=n.n(o),s=(n(290),n(291),n(156)),i=n.n(s),l=n(269),u=n(270),m=n(271),h=n(281),p=n(283),d=n(736),f=n(735),v=n(733),g=n(275),E=n(734),b=n(292),k=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).addToConversionList=function(e){var t=a.state,n=t.conversions,r=t.checked;n[e.target.id].checked=!n[e.target.id].checked,n[e.target.id].checked?r.push(e.target.id):r=r.filter((function(t,n,a){return t!==e.target.id})),a.setState({conversions:n,checked:r})},a.setFile=function(e){e.preventDefault(),a.setState({files:e.target.files[0]})},a.setExtension=function(e){switch(e){case"LBD":case"ifcOWL":return".ttl";case"GLTF":return".gltf";case"DAE":return".dae";case"XML":return".xml"}},a.submitForm=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FormData).append("ifcFile",a.state.files,a.state.files.name),n.append("conversions",JSON.stringify(a.state.checked)),(a.state.checked.includes("LBD")||a.state.checked.includes("ifcOWL"))&&n.append("baseUri",a.state.baseUri),a.setState({processing:!0}),b.post("http://localhost:4800/convert",n,{responseType:"arraybuffer",headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log("res",e);var t=e.request.getResponseHeader("Content-Disposition"),n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t);null!=n&&n[1]&&n[1].replace(/['"]/g,"");var r=new Blob([e.data],{type:"application/zip"}),o=URL.createObjectURL(r),c=a.state.conversionUrls;c.push(o),a.setState({converted:!0,conversionUrls:c,processing:!1})})).catch((function(e){a.setState({error:e.message,processing:!1})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeBaseUri=function(e){var t=e.target.value;"/"!==t.slice(-1)&&(t+="/"),a.setState({baseUri:t})},a.state={conversions:{LBD:{checked:!1,fields:{baseUri:"",fileName:""}},ifcOWL:{checked:!1},GLTF:{checked:!1},DAE:{checked:!1}},checked:[],converted:!1,conversionUrls:[],error:!1,baseUri:"http://www.example.com/lbdconversion/"},a}return Object(m.a)(n,[{key:"render",value:function(){var e,t,n,a=this;return e=this.state.conversionUrls.map((function(e){return r.a.createElement(d.a,{key:e,variant:"success",onClose:function(){return a.setState({conversionUrls:a.state.conversionUrls.filter((function(t){return t!==e}))})},dismissible:!0},"Your ZIP file is now ready! Click ",r.a.createElement(d.a.Link,{href:e},"here")," to download")})),this.state.error&&(t=r.a.createElement(d.a,{variant:"danger",onClose:function(){return a.setState({error:!1})},dismissible:!0},r.a.createElement(d.a.Heading,null,"Oh snap! A conversion error occured!"),r.a.createElement("p",null,this.state.error))),(this.state.checked.includes("LBD")||this.state.checked.includes("ifcOWL"))&&(n=r.a.createElement(f.a.Group,{as:v.a,controlId:"formBaseUri"},r.a.createElement(f.a.Label,{column:!0,sm:"2"},"Base URI"),r.a.createElement(g.a,{sm:"10"},r.a.createElement(f.a.Control,{type:"url",name:"text",placeholder:"http://www.example.com/lbdconversion/",onChange:this.onChangeBaseUri})))),r.a.createElement("div",null,r.a.createElement(f.a,{onSubmit:this.submitForm},r.a.createElement(f.a.Group,{as:v.a,controlId:"formFile"},r.a.createElement(f.a.Label,{column:!0,sm:"2"},"IFC File"),r.a.createElement("br",null),r.a.createElement(g.a,{sm:"10"},r.a.createElement("input",{type:"file",name:"file",accept:".ifc",onChange:this.setFile,style:{marginTop:2}}))),r.a.createElement(f.a.Group,{as:v.a,controlId:"conversions"},r.a.createElement(f.a.Label,{column:!0,sm:"2"},"Conversions"),r.a.createElement("br",null),r.a.createElement(g.a,{sm:"10"},Object.keys(this.state.conversions).map((function(e){return r.a.createElement(f.a.Check,{onChange:a.addToConversionList,checked:a.state.conversions[e].checked,inline:!0,key:e,label:e,type:"checkbox",id:e,style:{marginTop:7}})})))),n,r.a.createElement("hr",null),r.a.createElement(E.a,{variant:"dark",type:"submit",disabled:!(this.state.files&&this.state.checked.length&&!this.state.processing>0)},this.state.processing?"Processing":"Start Conversion"),r.a.createElement("div",{style:{marginTop:"20px"}},e),r.a.createElement("div",{style:{marginTop:"20px"}},t)))}}]),n}(a.Component),C=n(276),L=n.n(C);n(728);var w=function(){return r.a.createElement("div",null,r.a.createElement(L.a,{url:"/swagger.json"}))},y=n(96);var F={margin:"10%",minHeight:"100vh",position:"relative"},D=function(){return r.a.createElement("div",{style:F},r.a.createElement("h1",null,"IFC Conversion GUI"),r.a.createElement("p",null,"This is a graphical user interface to convert your IFC file using the LBDserver conversion API. The converter relies on multiple existing tools, such as",r.a.createElement("a",{href:"http://ifcopenshell.org/ifcconvert",target:"_blank",rel:"noopener noreferrer"}," IfcConvert")," (Thomas Krijnen),",r.a.createElement("a",{href:"https://github.com/KhronosGroup/COLLADA2GLTF/",target:"_blank",rel:"noopener noreferrer"}," COLLADA2GLTF")," (KhronosGroup),",r.a.createElement("a",{href:"https://github.com/pipauwel/IFCtoRDF",target:"_blank",rel:"noopener noreferrer"}," IFCtoRDF")," (Pieter Pauwels) and",r.a.createElement("a",{href:"https://github.com/jyrkioraskari/IFCtoLBD",target:"_blank",rel:"noopener noreferrer"}," IFCtoLBD")," (Jyrki Oraskari). An example file (ifcDuplex) can be downloaded ",r.a.createElement("a",{href:"/duplex.ifc"},"here"),". You can also use the ",r.a.createElement(y.b,{to:"/docs"},"API"),"."),r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(33),I=r.a.createElement(r.a.StrictMode,null,r.a.createElement(y.a,null,r.a.createElement("div",null,r.a.createElement(U.a,{exact:!0,path:"/",component:D}),r.a.createElement(U.a,{path:"/docs",component:w}))));c.a.render(I,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[285,1,2]]]);
//# sourceMappingURL=main.5a5b7aea.chunk.js.map